<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=	, initial-scale=1.0">
	<title>Scroll Animation</title>
	<style>
		@import url("https://fonts.googleapis.com/css2?family=Nunito&display=swap");

		body {
			min-height: 250vh;
			display: flex;
			align-items: center;
			justify-content: center;
			font-family: "Nunito", sans-serif;
		}

		.smile {
			width: 150px;
			height: 150px;
		}

		p {
			position: fixed;
			width: 100%;
			bottom: 1rem;
			text-align: center;
		}
	</style>
</head>

<body>
	<img class="smile" src="https://assets.codepen.io/756881/smiley.svg" />
	<p>scroll down & change your reduced motion settings</p>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
	<script>


		gsap.registerPlugin(ScrollTrigger);


		/*** Different ScrollTrigger setups that respect motion preferences ***/
		ScrollTrigger.matchMedia({

			// no motion preferences - go wild!
			"(prefers-reduced-motion: no-preference)": function () {
				// Any ScrollTriggers created inside these functions are segregated and get
				// reverted/killed when the media query doesn't match anymore. 
				let tl = gsap.timeline({
					scrollTrigger: {
						trigger: ".smile",
						scrub: 1,
						end: "200%",
						pin: true,
						start: 'center center',
						end: 'bottom 20%',
					}
				});
				tl.to(".smile", { scale: 2, rotation: 360 })
					.to(".smile", { scale: 1 });
			},

			//  option with less problematic motion for people with vestibular disorders and motion sensitivities   
			"(prefers-reduced-motion: reduce)": function () {
				// Any ScrollTriggers created inside these functions are segregated and get
				// reverted/killed when the media query doesn't match anymore. 
				let tl = gsap.timeline({
					scrollTrigger: {
						trigger: ".smile",
						scrub: 1,
						end: "200%",
						pin: true,
						start: 'center center',
						end: 'bottom 20%',
					}
				});
				tl.to(".smile", { opacity: 0.1 })
					.to(".smile", { opacity: 1 });
			},
		});


	</script>
</body>

</html>